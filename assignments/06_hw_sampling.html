<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Gov 50 - Problem Set 6: Sampling from a Voter File</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../files/img/gov50-icon-512.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Gov 50</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html" rel="" target="">
 <span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../schedule.html" rel="" target="">
 <span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../staff.html" rel="" target="">
 <span class="menu-text">Staff</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../materials/index.html" rel="" target="">
 <span class="menu-text">Materials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../assignments/index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Assignments</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../resources/index.html" rel="" target="">
 <span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://edstem.org/us/courses/43339/discussion/" rel="" target="">
 <span class="menu-text">Ed</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://www.gradescope.com/courses/544769" rel="" target="">
 <span class="menu-text">Gradescope</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../assignments/00-problem-set.html">Assignments</a></li><li class="breadcrumb-item"><a href="../assignments/06_hw_sampling.html">Problem Set 6</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Resources</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Assignments</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/tutorials.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gov 50 R Tutorials Instructions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/problem-sets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Sets and Exams</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Assignments</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/00-problem-set.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 0</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/01_hw_data_viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/02_hw_data_wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/03_hw_causality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/04_hw_summarizing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 4</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/05_hw_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 5</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/06_hw_sampling.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Problem Set 6</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background">Background</a></li>
  <li><a href="#question-1-6-points" id="toc-question-1-6-points" class="nav-link" data-scroll-target="#question-1-6-points">Question 1 (6 points)</a></li>
  <li><a href="#question-2-4-points" id="toc-question-2-4-points" class="nav-link" data-scroll-target="#question-2-4-points">Question 2 (4 points)</a></li>
  <li><a href="#question-3-5-points" id="toc-question-3-5-points" class="nav-link" data-scroll-target="#question-3-5-points">Question 3 (5 points)</a></li>
  <li><a href="#question-4-8-points" id="toc-question-4-8-points" class="nav-link" data-scroll-target="#question-4-8-points">Question 4 (8 points)</a></li>
  <li><a href="#question-5-7-points" id="toc-question-5-7-points" class="nav-link" data-scroll-target="#question-5-7-points">Question 5 (7 points)</a></li>
  <li><a href="#question-6-5-points" id="toc-question-6-5-points" class="nav-link" data-scroll-target="#question-6-5-points">Question 6 (5 points)</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Problem Set 6: Sampling from a Voter File</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>This problem set is due on <strong>November 8, 2023 at 11:59pm</strong>.</p>
<p>You can find instructions for obtaining and submitting problem sets <a href="../assignments/problem-sets.html">here</a>.</p>
<p>You can find the GitHub Classroom link to download the template repository on the <a href="https://edstem.org/us/courses/43339/resources">Ed Board</a></p>
<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<p>In this exercise, we will focus on sampling and sampling distributions when we have access to an entire census for a given population. In this case, the <code>data/durham.csv</code> file contains anonymized data on all registered voters in Durham County, NC that were registered to vote on election day of the 2020 presidential election. The variables in this dataset are:</p>
<table class="table">
<colgroup>
<col style="width: 13%">
<col style="width: 86%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ncid</code></td>
<td>unique voter identification number</td>
</tr>
<tr class="even">
<td><code>reg_year</code></td>
<td>did person vote (1) or not (0) in 1994?</td>
</tr>
<tr class="odd">
<td><code>age</code></td>
<td>age of registered voter</td>
</tr>
<tr class="even">
<td><code>gender</code></td>
<td>voter gender identity (<code>"F"</code> = Female, <code>"M"</code> = Male, <code>"U"</code> = Undeclared)</td>
</tr>
<tr class="odd">
<td><code>race</code></td>
<td>voter racial identity (see table below)</td>
</tr>
<tr class="even">
<td><code>latino</code></td>
<td>voter identifies as Hispanic or Latino (<code>"HL"</code>), does not (<code>"NL"</code>), or undesignated (<code>"UN"</code>)</td>
</tr>
<tr class="odd">
<td><code>party</code></td>
<td>party registration (<code>"DEM"</code> = Democrat, <code>"Rep"</code> = Republican, <code>"LIB"</code> = Libertarian, <code>"GRE"</code> = Green, <code>"UNA"</code> = Unaffiliated)</td>
</tr>
<tr class="even">
<td><code>drivers_lic</code></td>
<td>voter has drivers license (1) or not (0)?</td>
</tr>
</tbody>
</table>
<p>North Carolina provides the voter history data in a separate file with a row for each voter who actually casts a ballot in a given election. In the <code>data/vote_history.csv</code> file is a row for every voter that cast a ballot in the 2020 general election. The variables in this dataset are:</p>
<table class="table">
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ncid</code></td>
<td>unique voter identification number</td>
</tr>
<tr class="even">
<td><code>vote_method_2020</code></td>
<td>method of voting in 2020 general election</td>
</tr>
</tbody>
</table>
<p>For the purposed of this exercise, we will treat the voter list from <code>durhman.csv</code> as the population of interest. Doing so is an increasingly common approach for polling, where pollsters are now using the voter file as a sampling frame to conduct their polls. We will repeated sample from this population to better understand sampling uncertainty.</p>
<p><strong>Note:</strong> please follow the directions carefully about setting the seed for the sampling based questions.</p>
<p>In the Durham data, the racial category codes are:</p>
<table class="table">
<thead>
<tr class="header">
<th>Race</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>A</td>
<td>ASIAN</td>
</tr>
<tr class="even">
<td>B</td>
<td>BLACK or AFRICAN AMERICAN</td>
</tr>
<tr class="odd">
<td>I</td>
<td>AMERICAN INDIAN or ALASKA NATIVE</td>
</tr>
<tr class="even">
<td>M</td>
<td>TWO or MORE RACES</td>
</tr>
<tr class="odd">
<td>O</td>
<td>OTHER</td>
</tr>
<tr class="even">
<td>P</td>
<td>NATIVE HAWAIIAN or PACIFIC ISLANDER</td>
</tr>
<tr class="odd">
<td>U</td>
<td>UNDESIGNATED</td>
</tr>
<tr class="even">
<td>W</td>
<td>WHITE</td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</section>
<section id="question-1-6-points" class="level2">
<h2 class="anchored" data-anchor-id="question-1-6-points">Question 1 (6 points)</h2>
<p>Load the voter list data (<code>data/durham.csv</code>) into R using <code>read_csv</code> and save the data as <code>durham</code> and use the same function to load in the voter history data (<code>data/vote_history.csv</code>) as <code>vote_history</code>. Use <code>left_join</code> to merge the voter history data into the voter list data so that all rows of the voter list remain. Use the <code>ncid</code> variable to join the data sets and save this merged data as <code>durham</code>.</p>
<p>Any registered voter who did not turn out in the 2020 general election will not appear in the <code>vote_history</code> data so their <code>vote_method_2020</code> variable will be missing in the merged data. Create a new variable called <code>vote_gen_2020</code> that is 1 if the voter turned out and 0 otherwise (the <code>is.na()</code> function may be helpful).</p>
<p>In the write-up, state how many units are in the population (that is, how many rows are in the <code>durham</code> data) and the proportion of registered voters that actually voted in the 2020 elections.</p>
<p><strong>Rubric:</strong> 1pt for Rmd file compiling (autograder); 3pt for data loaded and merged (autograder), 1pt for creation of the <code>vote_gen_2020</code> variable (autograder); 1pt for number of rows and turnout proportion reported (PDF).</p>
</section>
<section id="question-2-4-points" class="level2">
<h2 class="anchored" data-anchor-id="question-2-4-points">Question 2 (4 points)</h2>
<p>Create a density histogram of age with a bin width of 1 and save this plot as <code>age_hist</code> (use the aesthetic mapping <code>y = after_stat(density)</code> in to accomplish this). Create a barplot for turnout (<code>vote_gen_2020</code>) with the proportion on the y-axis (use the aesthetic mapping <code>y = after_stat(prop)</code> in <code>geom_barplot</code> to achieve this). For a slightly nicer plot, use the <code>width = 1</code> argument. Make sure both of these plots are shown in the PDF.</p>
<p><strong>Rubric:</strong> 2pts for <code>age_hist</code> (autograder); 2pts for <code>turnout_hist</code> (autograder).</p>
</section>
<section id="question-3-5-points" class="level2">
<h2 class="anchored" data-anchor-id="question-3-5-points">Question 3 (5 points)</h2>
<p>Use <code>summarize()</code> to calculate the population mean and standard deviation of <code>age</code> and <code>vote_gen_2020</code> (that is the mean and SD of these variables in the <code>durham</code> data) and save the resulting tibble as <code>pop_parameters</code> with the tibble output looking like:</p>
<pre><code># A tibble: 1 × 4
  age_pop_mean age_pop_sd turnout_pop_prop turnout_pop_sd
         &lt;dbl&gt;      &lt;dbl&gt;            &lt;dbl&gt;          &lt;dbl&gt;
1         XX.X       XX.X            X.XXX          X.XXX</code></pre>
<p>Make sure that the column names are the same for the autograder. (<strong>Hint:</strong> you can summarize multiple variables in the same call to <code>summarize</code>.) Use <code>knitr::kable()</code> to present the values in nicely formatted table with <code>digits = 2</code> to create nicely rounded numbers and informative column names (they may need to be abbreviated to fit on the page).</p>
<p><strong>Rubric:</strong> 4pts for correct <code>pop_parameters</code> tibble (autograder); 1pts for nicely formatted table (PDF).</p>
</section>
<section id="question-4-8-points" class="level2">
<h2 class="anchored" data-anchor-id="question-4-8-points">Question 4 (8 points)</h2>
<p>In the first line of the code chunk for this question use the following code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(infer)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">02138</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then use <code>rep_slice_sample()</code> to take 1,000 samples of size 200 from <code>durham</code> and calculate the sample mean of <code>age</code> and the sample mean/proportion of turnout for each of these samples. Save these as variables named <code>age_mean</code> and <code>turnout_prop</code> and save the resulting tibble as <code>samples_n200</code>.</p>
<p>Create a density histogram of the age means and with a bin width of 1 and save this as <code>age_mean_hist</code> (use a bin width of 0.5). Create a density histogram of the turnout proportions and save this as <code>turnout_prop_hist</code> (use a bin width of 0.005) (<strong>NOTE: this is not a bar plot like in Question 2</strong>). Make sure both of these plots are shown in the PDF and that they have informative labels.</p>
<p>In the write-up, compare the sampling distribution of the sample mean and sample proportion here to the population distributions from question 2. Are the shapes of the sampling distributions similar or different to the population distributions? If different, how are they different?</p>
<p><strong>Rubric:</strong> 2pts for correct <code>sample_n200</code> output (autograder); 2pts for correct <code>age_mean_hist</code> (autograder); 2pts for correct <code>turnout_prop_hist</code> (autograder); 1pt informative labels (PDF); 1pt comparison to population distributions (PDF).</p>
</section>
<section id="question-5-7-points" class="level2">
<h2 class="anchored" data-anchor-id="question-5-7-points">Question 5 (7 points)</h2>
<p>Use the <code>summarize()</code> function on <code>samples_n200</code> to calculate the average (named <code>ev_age</code> and <code>ev_turnout</code>) and standard deviation (named <code>se_age</code> and <code>se_turnout</code>) of each sample mean/proportion across the repeated samples. Save this tibble as <code>samp_dist_summary</code> and it should look like this:</p>
<pre><code># A tibble: 1 × 4
  ev_age se_age ev_turnout se_turnout
   &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;
1   X.XX   X.XX      X.XXX      X.XXX</code></pre>
<p>Make sure that the column names are the same for the autograder. Use <code>knitr::kable()</code> to present the values in nicely formatted table with <code>digits = 2</code> to create nicely rounded numbers.</p>
<p>Compare the mean and SD of these sampling distributions to the population means and SDs from the previous question. Are these distributions centered on the same value? Which has more spread, the population distribution of age/turnout or the sampling distributions of their means?</p>
<p><strong>Rubric</strong>: 4pts for correct <code>samp_dist_summary</code> tibble (autograder); 1pt for nicely formatted table (PDF); 2pts for discussion (PDF).</p>
</section>
<section id="question-6-5-points" class="level2">
<h2 class="anchored" data-anchor-id="question-6-5-points">Question 6 (5 points)</h2>
<p>Now suppose we received a bad voter file that only contained voters under the age of 30 at the time of the 2020 election. Set the seed using <code>set.seed(02138)</code> and repeat the replicate sampling from Question 3 to take 1,000 samples of size 200 from <code>durham</code> after removing voters 30 and over. Calculate the sample proportion of turnout for each of these samples. Save this as a variable named <code>turnout_prop</code> and save the resulting tibble as <code>young_samples_n200</code>.</p>
<p>Create a density histogram of the turnout proportions with informative labels and add a vertical line at the true population average turnout (of all ages). Save this plot as <code>young_turnout_prop_hist</code>.</p>
<p>Does the sampling distribution of turnout in these samples appear biased or unbiased for the population average turnout? Explain why based on the sampling process.</p>
<p><strong>Rubric:</strong> 2pts for correct <code>young_samples_n200</code> tibble (autograder); 1pt for correctly identifying biased/unbiased (PDF); 2pt explaining bias/unbiasedness (PDF).</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>